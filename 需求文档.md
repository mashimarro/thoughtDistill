# 目标
做一个帮助用户梳理想法的产品，mvp为网页版，未来需要在手机端使用，可能是app，也可能是渐进式应用（PWA）。用户输入模糊的想法，AI通过对话，引导用户逐步理清思路，最终沉淀为一个卡片笔记，可以复制或下载

# 重要原则
## AI必须遵守：
1. 不新增：AI不得提出任何用户未表达过的观点/判断/结论
2. 可追溯：每条观点必须附带“原话证据”（引用片段/时间戳），用户可一键回看来源。
3. 打破砂锅问到底：出现含糊词、跳跃因果、未定义概念或主体不明时，AI必须暂停并要求用户澄清后才能进入沉淀。
4. 分级论证：被标记为“核心观点”的条目必须补充至少 1 条依据（经验/观察/案例/逻辑链/外部资料其一）；非核心观点允许标注为“假设/直觉/待验证”。
5. 确认与输出：只有用户明确确认的观点才可保存；保存物仅限“观点卡片/论证骨架/待验证问题”，禁止自动生成文章、扩写和润色。

## 产出的卡片笔记必须满足：
- **原子化**：一卡一概念，可独立理解
- **可链接**：与其他卡片建立关联
- **可复用**：语言精炼，适合未来引用
- **个人化**：保留用户的语言和思考痕迹

# 功能
1. 初始界面显示两个按钮：记录新想法、整理已有想法
2. 包含3个存储目录：收集箱（保存待整理的想法）、笔记盒（保存已成型的想法）、归档（保存历史记录、不再需要整理的想法）
    1. 收集箱中的每个想法，支持：
        1. 整理：进入【整理想法】流程
        2. 归档：移入【归档】目录
    2. 笔记盒中的每个想法，支持：
        1. 继续整理：进入【整理想法】流程
        2. 下载：提供.md、.txt格式下载文本，也可以生成图片卡片（.png）下载
            **说明**：mvp只提供.md格式下载，其他格式后续再更新
        3. 复制：复制笔记文字到剪贴板
        4. 编辑：编辑笔记中的文字内容，包括增加或删除
        5. 保存：保存编辑更新
        6. 归档：移入【归档】目录
3. 支持用户打字，或语音输入
4. 初始流程
    1. 当用户选择【记录新想法】时
        1. 允许用户输入一段未经整理的想法，自动将想法保存进收集箱，以YYYYMMDD-HHMM-[笔记概述] 格式命名，倒序排列
        2. 询问用户是否要整理这个想法
            1. 用户选择是：进入【整理想法】流程
            2. 用户选择否：告诉用户想法已经记录，可以随时回来整理，回到初始界面
    2. 当用户选择【整理已有想法】时，列出收集箱中所有想法，由用户选择要整理哪一条，进入【整理想法】流程
5. 整理想法
    1. 镜像反射：用用户的原话重新组织，让用户确认，是否自己想要表达的意思。如果用户的想法中包含了多个观点，编号逐个列出
    2. 用苏格拉底式提问的方式，帮助用户理清思路、补全信息。引导的方向包括：
        1. 聚焦核心。如果用户提到了多于1个观点，提问哪个是核心，为什么
        2. 挖掘动机。为什么产生这个想法，想解决什么问题，这个问题为什么重要
        3. 探索关系。提到的X和Y之间是什么关系
        4. 澄清模糊。X是什么意思，和Y有什么区别
        5. 指出空白。指出用户论证过程中隐含的假设，与逻辑跳跃，请用户补全
        6. 暴露矛盾。指出用户观点中不一致的地方，请用户澄清确认
        7. 寻找支撑。为什么这么认为，有什么示例、数据、经历、资料能支持这个观点
        8. 探寻边界。这个观点在什么条件下成立，什么时候不适用
        9. 引导提炼。如果只用一句话，最想表达的是什么
            1. 用户表达完，判断是否抓住了核心，是否还需要补充
        
        **重要**：
        1. 每次只问**1个**问题，等待用户回答
        2. 基于用户回答继续提问，直到获得所需信息
        3. 如果用户卡住，提供2-3个方向供选择
    3. 沉淀笔记
        1. 当满足以下全部条件时，询问用户是否要沉淀成一条笔记：
            1. 有明确的观点
            2. 没有模糊的概念或表述
            3. 核心观点和子论点经过论证或有证据支持
            4. 阐明了观点为什么有用/重要，能用在哪里
        2. 在笔记盒中搜索已有笔记，寻找潜在关联
            **说明**：此功能mvp先不做，未来再拓展
        3. 结构化输出笔记
            1. 按照以下模板输出笔记：

                ```markdown
                ---
                id: YYYYMMDD-HHMM-关键词
                created: YYYY-MM-DD HH:MM
                tags: [标签1, 标签2, 标签3]
                ---

                # [卡片标题]

                ## 核心内容

                [用户的话，经过提炼但保持原意，100-300字]

                ## 支撑理由/依据

                [支持这个观点/概念的理由，可以是：]
                - 观察到的现象
                - 个人经验或案例
                - 相关研究或资料
                - 逻辑推理

                ## 为什么重要

                [这个想法的价值/动机/要解决的问题]

                ## 应用场景

                [什么时候用/怎么用]

                ## 关联卡片

                - [[YYYYMMDD-HHMM-关键词]] - [关系说明]
                - [[YYYYMMDD-HHMM-关键词]] - [关系说明]

                ## 来源/触发

                [想法的来源或触发场景]

                ---

                *最后更新：YYYY-MM-DD HH:MM*
                ```
            2. 请用户确认是否符合用户的意思，是否需要修改
        4. 用户确认后，将卡片保存到笔记盒

        **重要原则**：
            - 正文必须用用户说过的话
            - 不添加用户没说过的观点

6. 存储想法
    1. 把整理好的想法保存到笔记盒，以YYYYMMDD-HHMM-[笔记概述] 的格式命名
    2. 允许用户直接复制笔记到剪贴板
    3. 允许用户直接下载笔记文件
    4. 从收集箱删除该想法


# UI风格
1. 整体简洁大气，可以参考claude.ai，get笔记的风格
2. 颜色尽量少